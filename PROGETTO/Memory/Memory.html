<!DOCTYPE html>
<html>

    <head>

        <title>Memory</title>

        <meta charset="utf-8">

        <script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> 

        <style>
            table{
                border-spacing: 10px;
                margin:auto;
            }
        </style>

    </head>


    <body>

        <table></table>

        <script type = "text/javascript">

            //creazione tabella e comparsa tabella
            tab="";
			for (i=0; i<4;i++){ 
				tab+="<tr>";
				for (j=1;j<=6;j++)
					tab+="<td>"+"<img id='"+(i*6+j)+"' src='immagini/coperto.gif'>"+"</td>";
				tab+="</tr>";
				}
				
			$(document).ready(function(){
				$("table").html(tab);
			});

            /*
                vettore con immagini, matrice con immagini totali da mettere nella tabella
                per ogni immagine del vettore estrarre due volte una posizione casuale nella matrice
            */

            //creo vettore con tutte le immagini del memory
            let images = 0;
            for(let i = 0; i<11; i++){
                images[i]="immagini/mem_"+i+".GIF";
            }

            //invece di utilizzare una matrice, uso un vettore più lungo, per ottimizzare la "corrispondenza" tra vettore e vettoreGrosso e tra vettoreGrosso e tabella, 
            //che mi servirà per decidere le immagini nascoste dietro alla tabella
            let vettoreGrosso = 0;
                //inizializzo tutto vettoreGrosso a 0
                for(let i=0; i<23; i++){
                    vettoreGrosso[i]=0;
                }

            //inserisco nel vettorreGrosso(che sarebbe il campo di gioco) le immagini (2 volte per ognuna nel vettore)
            for(let i = 0; i<(images.length*2); i++){
                for(let y = 0; y<2; y++){
                    posizioneEstratta = Math.floor(Math.random()*23); //estraggo un numero da 0 a 23 (tot = 24), che sarà la posizione nel vettorerGrosso in cui inserirò l'immagine del vettore images
                    if(vettoreGrosso[posizioneEstratta]==0)vettoreGrosso[estratto]=images[i]; //se la posizione estratta non è occupata, inserisco l'immagine nel vettoreGrosso
                }
            }
            
            //quando l'utente schiaccia su un'immagine coperta, questa cambia e diventa la sua corrispettiva del vettoreGrosso
            $("img").click(function(event){
                $(event.delegateTarget).html("<img src='"+ vettoreGrosso[event.target.id] + "'>")
                alert("ciao")
            })
        </script>
    </body>
</html>